<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basket</title>
</head>
<body>
    <!-- Basket Header -->
    <h1>Your Basket</h1>

    <!-- Basket Table -->
    <table>
        <thead>
            <tr>
                <th>Movie</th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Total</th>
                <th>Remove</th>
            </tr>
        </thead>
        <tbody id="basket-items">
            <!-- Basket items will be dynamically added here -->
        </tbody>
    </table>

    <!-- Total Price Display -->
    <div>
        Total Price: $<span id="total-price">0.00</span>
    </div>

    <!-- Checkout Button -->
    <a href="checkout.html">Check Out</a>

    <script>
        // Mock data for basket items (This would come from your JavaScript handling session or localStorage)
        let basketItems = [
            { id: 1, name: "Movie 1", price: 12.99, quantity: 1 },
            { id: 2, name: "Movie 2", price: 8.99, quantity: 2 }
        ];

        function updateBasket() {
            const basketTable = document.getElementById("basket-items");
            basketTable.innerHTML = ""; // Clear previous items
            let totalPrice = 0;

            basketItems.forEach(item => {
                const row = document.createElement("tr");

                // Movie Name
                const nameCell = document.createElement("td");
                nameCell.textContent = item.name;
                row.appendChild(nameCell);

                // Price
                const priceCell = document.createElement("td");
                priceCell.textContent = `$${item.price.toFixed(2)}`;
                row.appendChild(priceCell);

                // Quantity
                const quantityCell = document.createElement("td");
                quantityCell.textContent = item.quantity;
                row.appendChild(quantityCell);

                // Total for this item
                const totalCell = document.createElement("td");
                const totalItemPrice = item.price * item.quantity;
                totalCell.textContent = `$${totalItemPrice.toFixed(2)}`;
                row.appendChild(totalCell);

                // Remove button
                const removeCell = document.createElement("td");
                const removeBtn = document.createElement("button");
                removeBtn.textContent = "Remove";
                removeBtn.onclick = () => removeFromBasket(item.id);
                removeCell.appendChild(removeBtn);
                row.appendChild(removeCell);

                basketTable.appendChild(row);

                totalPrice += totalItemPrice;
            });

            document.getElementById("total-price").textContent = totalPrice.toFixed(2);
        }

        function removeFromBasket(id) {
            basketItems = basketItems.filter(item => item.id !== id); // Remove item from basket
            updateBasket(); // Update basket display
        }

        window.onload = updateBasket; // Initial load of basket items
    </script>
</body>
</html>
